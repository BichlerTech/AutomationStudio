<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="org.eclipse.ui.views">
      <view
            name="%view.log"
            icon="icons/loginfo_16.png"
            class="com.bichler.astudio.log.view.viewer.ASLogView"
            id="com.hbsoft.comet.log4j.view">
      </view>
   </extension>
   <extension
         point="org.eclipse.help.contexts">
      <contexts
            file="contexts.xml">
      </contexts>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="com.bichler.astudio.log.view.preferences.ASLogPreferenceInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="com.bichler.astudio.log.view.preferences.ASLogPreferencePage"
            id="com.hbsoft.comet.log4j.view.preferences.CometLogPreferencePage"
            name="%preference.log">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:com.hbsoft.comet.log4j.view">
         <command
               commandId="com.hbsoft.comet.log4j.quicksearch"
               icon="icons/search_16.png"
               label="%menu.quicksearch"
               style="push"
               tooltip="%menu.quicksearch">
         </command>
         <command
               commandId="com.hbsoft.comet.log4j.startServer"
               icon="icons/server_16.png"
               label="%menu.start"
               style="push"
               tooltip="%menu.start">
         </command>
         <command
               commandId="com.hbsoft.comet.log4j.stopServer"
               icon="icons/serverred_16.png"
               label="%menu.stop"
               style="push"
               tooltip="%menu.stop">
         </command>
         <command
               commandId="com.hbsoft.comet.log4j.toogleToBottom"
               icon="icons/togglebottom.png"
               label="%menu.togglescrolltobottom"
               style="push"
               tooltip="%menu.togglescrolltobottom">
         </command>
      </menuContribution>
      <!-- <menuContribution
            allPopups="false"
            locationURI="toolbar:org.eclipse.ui.main.toolbar">
         <toolbar
               id="com.bichler.astudio.main.toolbar.views">
            <command
                  commandId="com.bichler.astudio.opcserver.showmessages"
                  icon="icons/loginfo_32.png"
                  label="%menu.showlog"
                  style="push">
            </command>
         </toolbar>
      </menuContribution> -->
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu">
         <menu
               id="com.bichler.astudio.ansicht"
               label="%menu.view">
            <menu
                  id="com.bichler.astudio.views"
                  label="%menu.views">
               <command
                     commandId="com.bichler.astudio.opcserver.showmessages"
                     icon="icons/loginfo_16.png"
                     label="%view.log"
                     style="toggle">
               </command>
            </menu>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="com.hbsoft.comet.log4j.quicksearch"
            name="Visible searchfield">
      </command>
      <command
            id="com.hbsoft.comet.log4j.startServer"
            name="Start server">
      </command>
      <command
            id="com.hbsoft.comet.log4j.stopServer"
            name="Stop server">
      </command>
      <command
            id="com.hbsoft.comet.log4j.toogleToBottom"
            name="Toggle scroll to bottom">
      </command>
      <command
            id="com.bichler.astudio.opcserver.showmessages"
            name="%menu.showlog">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.bichler.astudio.log.view.handler.QuickSearchHandler"
            commandId="com.hbsoft.comet.log4j.quicksearch">
      </handler>
      <handler
            class="com.bichler.astudio.log.view.handler.StartServerHandler"
            commandId="com.hbsoft.comet.log4j.startServer">
      </handler>
      <handler
            class="com.bichler.astudio.log.view.handler.StopServerHandler"
            commandId="com.hbsoft.comet.log4j.stopServer">
      </handler>
      <handler
            class="com.bichler.astudio.log.view.handler.ToggleScrollToBottomHandler"
            commandId="com.hbsoft.comet.log4j.toogleToBottom">
      </handler>
      <handler
            class="com.bichler.astudio.log.view.handler.ShowLogViewHandler"
            commandId="com.bichler.astudio.opcserver.showmessages">
      </handler>
   </extension>

</plugin>
