<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <view
            class="com.bichler.astudio.opcua.javacommand.view.JavaCommandView"
            icon="icons/startcmd.png"
            id="com.bichler.astudio.opcua.view.javacommand"
            name="JavaCommand View"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:com.bichler.astudio.opcua.view.javacommand">
         <command
               commandId="com.bichler.astudio.opcua.javacommand.add"
               icon="icons/add.png"
               label="Add Command"
               style="push">
         </command>
         <command
               commandId="com.bichler.astudio.opcua.javacommand.edit"
               icon="icons/search.png"
               label="Edit Java Command"
               style="push">
         </command>
         <separator
               name="com.bichler.astudio.opcua.javacommand.separator1"
               visible="true">
         </separator>
         <command
               commandId="com.bichler.astudio.opcua.javacommand.remove"
               icon="icons/delete.png"
               label="Remove Command"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:com.bichler.astudio.opcua.view.javacommand">
         <command
               commandId="com.bichler.astudio.opcua.javacommand.add"
               icon="icons/add.png"
               label="Add Command"
               style="push">
         </command>
         <command
               commandId="com.bichler.astudio.opcua.javacommand.edit"
               icon="icons/search.png"
               label="Edit Java Command"
               style="push">
         </command>
         <separator
               name="com.bichler.astudio.opcua.javacommand.separator2">
         </separator>
         <command
               commandId="com.bichler.astudio.opcua.javacommand.remove"
               icon="icons/delete.png"
               label="Remove Command"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.bichler.astudio.opcua.javacommand.handler.AddCommandHandler"
            commandId="com.bichler.astudio.opcua.javacommand.add">
      </handler>
      <handler
            class="com.bichler.astudio.opcua.javacommand.handler.RemoveCommandHandler"
            commandId="com.bichler.astudio.opcua.javacommand.remove">
         <enabledWhen>
            <reference
                  definitionId="IsCmdSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="com.bichler.astudio.opcua.javacommand.handler.EditCommandHandler"
            commandId="com.bichler.astudio.opcua.javacommand.edit">
         <enabledWhen>
            <reference
                  definitionId="IsCmdSelected">
            </reference>
         </enabledWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="com.bichler.astudio.opcua.javacommand.add"
            name="Add Command">
      </command>
      <command
            id="com.bichler.astudio.opcua.javacommand.remove"
            name="Remove Command">
      </command>
      <command
            id="com.bichler.astudio.opcua.javacommand.edit"
            name="Edit Command">
      </command>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="com.bichler.astudio.opcua.javacommand.tester.CommandSelectedPropertyTester"
            id="com.bichler.astudio.opcua.javacommand.selected"
            namespace="com.bichler.astudio.opcua.javacommand"
            properties="isCmdPref"
            type="java.lang.String">
      </propertyTester>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="IsCmdSelected">
         <iterate
               ifEmpty="false"
               operator="or">
            <adapt
                  type="java.lang.String">
               <test
                     property="com.bichler.astudio.opcua.javacommand.isCmdPref">
               </test>
            </adapt>
         </iterate>
      </definition>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="java.lang.String"
            class="com.bichler.astudio.opcua.javacommand.adapter.JavaCommandAdapterFactory">
         <adapter
               type="org.eclipse.ui.views.properties.IPropertySource">
         </adapter>
      </factory>
   </extension>

</plugin>
